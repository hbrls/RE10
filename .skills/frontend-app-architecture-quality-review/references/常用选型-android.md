> updated_by: Cascade - Cascade
> updated_at: 2026-02-13 12:10:00
# Android 应用架构质量审查参考

## 适用范围

本文用于 Android 应用（Java/Kotlin）进行“前端应用架构质量审查”时的补充参考，聚焦于 Android 技术栈下的落地检查点。

## 1. Build（构建与依赖管理）

### 1.1 审查目标

- 确保 Gradle 构建脚本结构清晰、职责单一、便于维护和扩展。
- 控制依赖版本与冲突，避免不必要的冗余依赖和隐性升级风险。
- 清晰区分不同环境（开发 / 测试 / 生产）的构建配置，降低配置错误风险。
- 优化构建性能，缩短构建时间，提升开发与 CI 效率。

### 1.2 核心关注点

- **模块与依赖关系**：模块划分是否合理，是否存在双向依赖或循环依赖，基础模块是否被高层模块错误依赖。
- **构建脚本规范性**：是否存在大量重复配置，是否使用统一的版本管理（如版本 catalog 或集中版本定义），是否有清晰的注释说明关键配置。
- **版本与仓库管理**：依赖版本是否固定且可追踪，是否避免使用不可信仓库或 http 仓库，是否定期评估和升级关键依赖。
- **构建类型与渠道**：`buildTypes`、`productFlavors` 是否设计合理，是否存在冗余或难以理解的构建维度，环境变量与密钥是否通过安全方式注入。
- **安全与合规**：构建脚本中是否存在明文秘钥、账号密码或敏感 URL，是否对调试开关、日志开关等做了环境隔离。

## 2. 基础框架（Base Framework）

### 2.1 审查目标

- 确保应用整体架构模式（如 MVC/MVP/MVVM/Clean Architecture）在各模块中得到一致、正确的实现。
- 建立清晰的分层与边界（展示层 / 领域层 / 数据层），避免横向耦合和“上帝类”。
- 通过统一的基础组件（如 BaseActivity、BaseFragment、BaseViewModel、网络与数据访问封装）提升复用性与可维护性。
- 提供稳定的错误处理、日志与配置体系，为排查问题和运维提供支撑。

### 2.2 核心关注点

- **架构模式一致性**：是否在全局范围内明确并坚持某一种（或兼容策略）架构模式，是否存在同一模块内混用多种模式的情况。
- **分层与依赖方向**：上层是否只依赖下层抽象接口而非具体实现，是否存在展示层直接操作数据源或网络层的情况。
- **基础组件设计**：`BaseActivity`/`BaseFragment` 等是否只承担通用职责，是否被滥用为“万能基类”，导致子类难以扩展或重用。
- **网络与数据访问框架**：是否存在统一的网络与数据访问封装（如 Repository 层），错误与异常是否集中处理，重试与超时策略是否可配置。
- **日志与错误收集**：是否有统一的日志工具与错误收集框架，日志级别与输出在不同构建环境中是否区分管理，日志输出是否避免打印敏感信息，是否支持按模块或功能维度配置日志开关，并与崩溃/埋点系统打通以便统一排查问题。
- **配置与开关**：是否存在统一的配置中心（如常量、开关、实验配置），避免散落的硬编码和魔法值。

## 3. Utils（工具层）

### 3.1 审查目标

- 将通用能力从业务中抽离为工具层，提升代码复用率，减少重复实现。
- 控制工具类的职责范围，避免形成难以测试和理解的“工具黑洞”。
- 确保工具层对 Android 框架（Context、生命周期等）的依赖是清晰、可控且不会引入内存泄漏。

### 3.2 核心关注点

- **职责单一性**：单个工具类/方法是否聚焦单一领域（如日期、字符串、文件、网络），是否存在“大杂烩式”工具类。
- **命名与组织**：包结构与命名是否清晰反映用途，是否存在大量“CommonUtils”、“Utils2” 等模糊命名。
- **静态方法与全局状态**：是否过度使用 static 方法与全局变量，导致难以 mock / 单测以及隐藏状态问题。
- **Context 与资源使用**：工具类获取 Context 的方式是否安全，是否避免长期持有 Activity/Fragment 引用，是否正确处理资源关闭与回收。
- **可测试性**：工具方法是否易于通过单元测试验证，是否与 UI 或外部环境强耦合导致无法隔离测试。

## 4. 业务页面（业务功能层）

### 4.1 审查目标

- 确保 Activity/Fragment/自定义 View 等业务页面结构清晰、职责明确，避免臃肿和过多业务逻辑堆积。
- 实现视图与业务逻辑的合理分离（如通过 ViewModel、Presenter、UseCase 等），提升可维护性与扩展性。
- 在业务复杂场景下保证页面状态管理、导航与数据交互的可控与可测试。

### 4.2 核心关注点

- **页面复杂度**：单个页面（类）行数、方法数是否过多，是否集中处理了过多流程逻辑，可否拆分为子组件或下沉到领域层。
- **状态管理**：页面状态（加载中/成功/失败/空数据等）是否有统一的表示与切换方式，是否存在大量 if-else 分支控制 UI 状态。
- **视图与业务逻辑分离**：UI 层是否只负责视图展示与用户交互，业务逻辑是否下沉到 ViewModel/Presenter/UseCase 等。
- **导航与路由**：页面跳转是否集中管理或通过路由框架，是否存在大量硬编码的 Intent/Bundle key 与路径字符串。
- **列表与复杂 UI**：RecyclerView 等复杂组件的适配器设计是否清晰，是否复用 ViewHolder、是否存在严重的布局嵌套或性能问题。
- **异常与边界处理**：网络失败、权限拒绝、空数据、超时等场景是否有明确的用户反馈与回退策略。

## 5. 第三方 SDK（集成与隔离）

### 5.1 审查目标

- 通过适配层或封装层对第三方 SDK 进行隔离，降低对业务代码的侵入与耦合。
- 确保第三方 SDK 的使用安全、合规，可控地采集数据并满足隐私与合规要求。
- 便于后续替换或升级第三方 SDK，降低供应商锁定风险。

### 5.2 核心关注点

- **封装与抽象**：是否为各类 SDK（推送、统计、支付、地图、认证等）提供了统一的封装接口，业务层是否只依赖自有接口而非直接调用 SDK API。
- **初始化与生命周期**：SDK 初始化时机是否合理（如是否占用冷启动主线程时间），是否在 Application/独立初始化模块中集中管理。
- **错误与降级**：SDK 调用失败或不可用时是否有降级策略，是否会导致应用崩溃或关键流程中断。
- **版本管理**：SDK 版本是否过旧或过新，是否有明确的升级策略与回滚方案，是否关注到官方的弃用与安全公告。
- **权限与隐私**：SDK 申请的权限是否最小化，数据采集与上报是否符合隐私政策，是否支持用户关闭或撤回授权。
- **多 SDK 共存**：多家推送、统计、支付等 SDK 共存时是否有统一的调度与路由机制，是否评估它们之间的冲突与性能影响。
